@import "../util/colors";

// Dark mode color variables
$dark-bg: #1e1e1e;
$dark-bg-secondary: #2d2d2d;
$dark-bg-tertiary: #3a3a3a;
$dark-text: #e0e0e0;
$dark-text-secondary: #b0b0b0;
$dark-border: #404040;

// Dark mode toggle button styling
.dark-mode-toggle {
	background: none;
	border: none;
	cursor: pointer;
	padding: 8px;
	display: flex;
	align-items: center;
	justify-content: center;
	color: inherit;
	transition: transform 0.3s ease;

	&:hover {
		transform: scale(1.1);
	}

	svg {
		width: 24px;
		height: 24px;
		transition: opacity 0.3s ease;
	}

	.moon-icon {
		display: none;
	}

	.sun-icon {
		display: block;
	}
}

// Mobile hamburger dark mode toggle
.hamburger-dark-mode-toggle {
	display: flex;
	justify-content: center;
	padding: 20px 0 10px;
	border-top: 1px solid $color-white3;
	margin-top: 10px;
}

// Dark mode styles
body.dark-mode {
	background-color: $dark-bg;
	color: $dark-text;

	// Toggle button icons switch
	.dark-mode-toggle {
		.moon-icon {
			display: block;
		}

		.sun-icon {
			display: none;
		}
	}

	// Header
	header {
		background-color: $dark-bg-secondary !important;

		nav {
			border-bottom-color: $dark-border;
		}

		#navigationLinks {
			li a {
				color: $dark-text;

				&:hover {
					border-bottom-color: $dark-border;
				}

				&.selected {
					border-bottom-color: $dark-text-secondary;
				}
			}
		}

		.willsoft {
			color: $dark-text !important;
		}
	}

	// Hamburger dropdown
	#hamburgerDropdown {
		background-color: $dark-bg-secondary;
		border-bottom-color: $dark-border;

		.links {
			li {
				border-bottom-color: $dark-border;

				a {
					color: $dark-text;
				}
			}
		}

		.hamburger-dark-mode-toggle {
			border-top-color: $dark-border;
		}
	}

	// Footer
	footer {
		background-color: $dark-bg-secondary;
		color: $dark-text-secondary;

		.heading-4 {
			color: $dark-text;
		}

		.footer-tagline {
			// Keep original green color for typewriter code
		}

		.social {
			background-color: $dark-bg-tertiary;
		}

		.copyright {
			color: $dark-text-secondary;
		}

		a {
			color: $dark-text-secondary;

			&:hover {
				color: $dark-text;
			}
		}
	}

	// Main content
	main {
		h1, h2, h3, h4, h5, h6 {
			color: $dark-text;
		}

		a {
			color: #6699dd;

			&:hover {
				color: #88bbff;
			}
		}
	}

	// Links
	a {
		&:link,
		&:focus,
		&:hover,
		&:active,
		&:visited {
			color: $dark-text;
		}
	}

	// Buttons
	.btn {
		&-white {
			background-color: $dark-bg-tertiary;
			color: $dark-text !important;

			&:hover {
				background-color: $dark-border;
			}
		}

		&-purple {
			border-color: $dark-border;
			color: $dark-text;

			&:hover {
				background-color: rgba(255, 255, 255, 0.1);
				border-color: $dark-text-secondary;
			}
		}
	}

	// Cookie banner
	#cookies {
		background-color: $dark-bg-secondary;
		color: $dark-text;

		button {
			background-color: $dark-bg-tertiary;
			color: $dark-text;
			border: 1px solid $dark-border;

			&:hover {
				background-color: $dark-border;
			}
		}
	}

	// Partners display
	#partners-display {
		img {
			filter: saturate(0) brightness(1.5);
		}
	}

	// Code blocks and pre
	pre {
		background-color: $dark-bg-tertiary;
		border-color: $dark-border;
		color: $dark-text;
	}

	// Hamburger menu
	.hamburger-inner,
	.hamburger-inner::before,
	.hamburger-inner::after {
		background-color: $dark-text;
	}

	// Courses page components
	.courses-intro {
		.course-format-note {
			color: $dark-text-secondary;
		}
	}

	.courses-search-filter {
		.search-container {
			#course-search {
				background-color: $dark-bg-tertiary;
				border-color: $dark-border;
				color: $dark-text;

				&::placeholder {
					color: $dark-text-secondary;
				}

				&:focus {
					border-color: $color-accent-blue-light;
					box-shadow: 0 0 0 3px rgba($color-accent-blue-light, 0.2);
				}
			}

			.search-icon {
				color: $dark-text-secondary;
			}
		}

		.filter-container {
			.filter-btn {
				background-color: $dark-bg-tertiary;
				border-color: $dark-border;
				color: $dark-text;

				&:hover {
					border-color: $color-accent-blue-light;
					background-color: rgba($color-accent-blue-light, 0.15);
				}

				&.active {
					background-color: $color-accent-blue-light;
					border-color: $color-accent-blue-light;
					color: $color-white;
				}
			}

			.clear-btn {
				background-color: transparent;
				border-color: $dark-border;
				color: $dark-text-secondary;

				&:hover {
					border-color: #ff6b6b;
					color: #ff6b6b;
				}
			}
		}

		.results-info {
			color: $dark-text-secondary;
		}
	}

	.field-filter-container {
		.filter-label {
			color: $dark-text;
		}

		.field-filter-btn {
			background-color: $dark-bg-tertiary;
			border-color: $dark-border;
			color: $dark-text;

			&:hover {
				border-color: $color-accent-blue-light;
				background-color: rgba($color-accent-blue-light, 0.15);
			}

			&.active {
				background-color: $color-accent-blue-light;
				border-color: $color-accent-blue-light;
				color: $color-white;
			}
		}
	}

	.course-card {
		background-color: $dark-bg-secondary;
		border-color: $dark-border;
		box-shadow: 0 2px 4px rgba(0,0,0,0.2), 0 4px 18px rgba(0,0,0,0.3);

		h3 {
			color: $dark-text;
		}

		p {
			color: $dark-text-secondary;
		}

		.course-meta {
			.course-shortcode,
			.course-duration,
			.course-price {
				background-color: $dark-bg-tertiary;
				color: $dark-text;
				border: 1px solid $dark-border;
			}
		}

		&:hover {
			border-color: $dark-text-secondary;
			box-shadow: 0 5px 14px rgba(0,0,0,0.3), 0 9px 30px rgba(0,0,0,0.4);
		}

		&.highlighted {
			border-color: $color-accent-blue-light;
			background-color: rgba($color-accent-blue-light, 0.1);
		}
	}

	.courses-sep {
		background: linear-gradient(90deg, rgba(255,255,255,0) 0%, $dark-border 20%, $dark-border 80%, rgba(255,255,255,0) 100%);
	}

	// Trust-building components
	.trust-stats {
		.stat-counter {
			color: $color-accent-blue-light;
		}

		.stat-label {
			color: $dark-text-secondary;
		}
	}

	.testimonials-section {
		background-color: transparent;

		.section-title {
			color: $dark-text;
		}
	}

	.testimonial-carousel {
		.testimonial-item {
			.testimonial-content {
				background: $dark-bg-tertiary;
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);

				.quote-text {
					color: $dark-text;
				}

				.client-info {
					.client-name {
						color: $dark-text;
					}

					.client-title {
						color: $dark-text-secondary;
					}
				}
			}

			.company-logo {
				filter: saturate(0) opacity(0.5) brightness(1.5);

				&:hover {
					filter: saturate(1) opacity(1) brightness(1.2);
				}
			}
		}

		.carousel-prev,
		.carousel-next {
			background: $color-accent-blue-light;

			&:hover {
				background: lighten($color-accent-blue-light, 10%);
			}
		}

		.carousel-dots {
			.carousel-dot {
				background: $dark-border;

				&:hover {
					background: $dark-text-secondary;
				}

				&.active {
					background: $color-accent-blue-light;
				}
			}
		}
	}

	.partners-carousel-section {
		background: $dark-bg;

		.section-title {
			color: $dark-text-secondary;
		}

		.partners-carousel {
			.carousel-track {
				.partner-logo {
					filter: saturate(0) opacity(0.4) brightness(1.5);

					&:hover {
						filter: saturate(1) opacity(0.8) brightness(1.2);
					}
				}
			}
		}
	}

	// Course detail pages dark mode
	.course-detail-container {
		.course-sidebar {
			background-color: $dark-bg-secondary;
			border-color: $dark-border;
			box-shadow: 0 2px 8px rgba(0,0,0,0.4);

			.course-sidebar-section {
				border-bottom-color: $dark-border;
			}

			.sidebar-title {
				color: $dark-text;
			}

			.sidebar-item {
				.sidebar-label {
					color: $dark-text-secondary;
				}

				.sidebar-value {
					color: $dark-text;
				}
			}

			.course-level-badge {
				&.foundations {
					background-color: rgba($color-accent-blue-light, 0.2);
					color: lighten($color-accent-blue-light, 10%);
				}

				&.advanced {
					background-color: rgba($color-accent-green-2, 0.2);
					color: lighten($color-accent-green-2, 10%);
				}

				&.research {
					background-color: rgba(#d36366, 0.2);
					color: lighten(#d36366, 10%);
				}
			}

			.difficulty-meter {
				.difficulty-dot {
					color: $dark-border;

					&.filled {
						color: $color-accent-blue-light;
					}
				}
			}

			.prerequisites-list {
				li {
					color: $dark-text-secondary;

					&:before {
						color: lighten($color-accent-green-2, 10%);
					}
				}
			}
		}

		.course-title {
			color: $dark-text;
		}

		.course-new-badge {
			background-color: $color-accent-blue-light;
		}

		.course-description {
			color: $dark-text-secondary;
		}

		.course-section {
			h2 {
				color: $dark-text;

				&:after {
					background-color: $color-accent-blue-light;
				}
			}
		}

		.course-overview,
		.course-topics {
			color: $dark-text-secondary;

			strong, b {
				color: $dark-text;
			}
		}

		.module-card {
			background-color: $dark-bg-secondary;
			border-color: $dark-border;

			&:hover {
				box-shadow: 0 4px 12px rgba(0,0,0,0.3);
				border-color: $color-accent-blue-light;
			}

			h3 {
				color: $dark-text;
			}

			p {
				color: $dark-text-secondary;
			}

			.module-topics {
				li {
					color: $dark-text-secondary;

					&:before {
						color: $color-accent-blue-light;
					}
				}
			}
		}

		.learning-outcomes {
			li {
				color: $dark-text-secondary;

				&:before {
					color: lighten($color-accent-green-2, 10%);
				}
			}
		}

		.course-tools {
			.tool-badge {
				background-color: $dark-bg-tertiary;
				border-color: $dark-border;
				color: $dark-text;

				&:hover {
					background-color: $color-accent-blue-light;
					border-color: $color-accent-blue-light;
					color: white;
				}
			}
		}

		.course-testimonials-section {
			background-color: $dark-bg-secondary;
			border-color: $dark-border;

			h2 {
				color: $dark-text;
			}
		}

		.testimonial {
			background-color: $dark-bg-tertiary;
			border-color: $dark-border;
			border-left-color: $color-accent-blue-light;

			.testimonial-text {
				color: $dark-text-secondary;
			}

			.testimonial-author {
				color: $dark-text;
			}
		}
		
	}

	// No courses messages
	.no-courses-global-message {
		background-color: $dark-bg-secondary;
		border-color: $dark-border;

		p {
			color: $dark-text-secondary;

			a {
				color: $color-accent-blue-light;

				&:hover {
					color: lighten($color-accent-blue-light, 10%);
				}
			}
		}
	}
}

// Hide desktop dark mode toggle on mobile - only show hamburger menu toggle
@media screen and (max-width: 860px) {
	nav .right {
		#darkModeToggle {
			display: none !important;
		}
	}
}
